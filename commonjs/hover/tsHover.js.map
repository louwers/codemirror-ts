{"version":3,"file":"tsHover.js","sourceRoot":"","sources":["../../../src/hover/tsHover.ts"],"names":[],"mappings":";;;AAAA,2CAAyD;AAEzD,+CAAyC;AACzC,yDAAsE;AAEtE,SAAgB,OAAO,CAAC,EACtB,GAAG,EACH,IAAI,EACJ,aAAa,GAAG,kCAAe,GAKhC;IACC,OAAO,IAAA,mBAAY,EAAC,KAAK,EAAE,IAAI,EAAE,GAAG,EAA2B,EAAE;QAC/D,MAAM,SAAS,GAAG,IAAA,sBAAQ,EAAC;YACzB,GAAG;YACH,IAAI;YACJ,GAAG;SACJ,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS;YAAE,OAAO,IAAI,CAAC;QAE5B,OAAO;YACL,GAAG,EAAE,SAAS,CAAC,KAAK;YACpB,GAAG,EAAE,SAAS,CAAC,GAAG;YAClB,MAAM,EAAE,GAAG,EAAE,CAAC,aAAa,CAAC,SAAS,EAAE,IAAI,CAAC;SAC7C,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC;AAxBD,0BAwBC","sourcesContent":["import { hoverTooltip, Tooltip } from \"@codemirror/view\";\nimport { type VirtualTypeScriptEnvironment } from \"@typescript/vfs\";\nimport { getHover } from \"./getHover.js\";\nimport { defaultRenderer, TooltipRenderer } from \"./renderTooltip.js\";\n\nexport function tsHover({\n  env,\n  path,\n  renderTooltip = defaultRenderer,\n}: {\n  env: VirtualTypeScriptEnvironment;\n  path: string;\n  renderTooltip?: TooltipRenderer;\n}) {\n  return hoverTooltip(async (view, pos): Promise<Tooltip | null> => {\n    const hoverData = getHover({\n      env,\n      path,\n      pos,\n    });\n\n    if (!hoverData) return null;\n\n    return {\n      pos: hoverData.start,\n      end: hoverData.end,\n      create: () => renderTooltip(hoverData, view),\n    };\n  });\n}\n"]}